=================
Hr expense cancel
=================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fhr--expense-lightgray.png?logo=github
    :target: https://github.com/OCA/hr-expense/tree/15.0/hr_expense_cancel
    :alt: OCA/hr-expense
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/hr-expense-15-0/hr-expense-15-0-hr_expense_cancel
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.odoo-community.org/runbot/289/15.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5| 

This module allows you to cancel and correct expenses.
It adds a "Cancel all related operations" button on the expense sheet that undo reconciliations
and delete payments and journal entries.
if you don't need delete document payment or journal entries,
you can use "Cancel" button and config Expense Cancel Policy for backward state expense.

**Table of contents**

.. contents::
   :local:

Usage
=====

To use this module, you can do 2 ways:

Cancel all related operations
================================

For delete all document related with expense (payment, journal entries) on the system

#. Go to *Expenses -> My Expenses -> My Expenses to Report* and create a new
   *Expense* with *Employee (to reimburse)* checked on the field *Paid By*
#. Click on *Submit to Manager* button
#. Click on *Approve* button
#. Click on *Post Journal Entries* button
#. Click on *Register Payment* button, fill in the data of the wizard and
   click on *Create Payment* button
#. After that, the *Expense report* will have an associated journal entry
   reconciled with a payment
#. Click on *Cancel all related operations* button
#. The *Expense report* will be set to *Submitted* state; the journal entry and
   the payment will be deleted


Cancel expense for backward state
===================================

For cancel expense/payment and journal entries that related expense.
it will backward state expense following your config

#. Go to *Expenses > Configuration > Settings*
#. Set the policy in "Expense Cancellation Policy"

Case 1: Cancel Expense

#. Go to expenses and normal process until posted
#. Click on *Cancel*, the expense report will be set state following your config in expense cancellation policy (Cancel expense, Expense change state to)

Case 2: Cancel Journal Entries

#. Go to expenses and normal process until posted
#. Go to journal entry that depend on expense > Reset to Draft > Cancel Entry
#. The expense report will be set state following your config in expense cancellation policy (Cancel JE, Expense change state to)

Case 3: Cancel Payment

#. Go to expenses and normal process until Done
#. Go to payment that depend on expense > Reset to Draft > Cancel Entry
#. The expense report will be set state following your config in expense cancellation policy (Cancel payment, Expense change state to)

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/hr-expense/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/hr-expense/issues/new?body=module:%20hr_expense_cancel%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Tecnativa

Contributors
~~~~~~~~~~~~

* `Tecnativa <https://www.tecnativa.com>`_:

  * Pedro M. Baeza
  * Ernesto Tejeda

* Danh Vo  <https://github.com/danhvophuong>
* Saran Lim. <saranl@ecosoft.co.th>
* Manuel Regidor <manuel.regidor@sygel.es>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/hr-expense <https://github.com/OCA/hr-expense/tree/15.0/hr_expense_cancel>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
